[{"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/_app.js":"1","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/_document.js":"2","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/api/hello.js":"3","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/aufgabe3/[slug].js":"4","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/index.js":"5","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/news/[slug].js":"6","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/EndlessNews.js":"7","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/ExercisePrompt.js":"8","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Header.js":"9","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/HeiseSvg.js":"10","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Layout.js":"11","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Loader.js":"12","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/ModeToggle.js":"13","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/NavBar.js":"14","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/NewsCard.js":"15","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/NewsContent.js":"16","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Weather.js":"17","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Wrapper.js":"18","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout1.js":"19","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout2.js":"20","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout3.js":"21","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout4.js":"22","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/lib/context.js":"23"},{"size":586,"mtime":1657699277094,"results":"24","hashOfConfig":"25"},{"size":230,"mtime":1657199528047,"results":"26","hashOfConfig":"25"},{"size":170,"mtime":1655290625781,"results":"27","hashOfConfig":"25"},{"size":731,"mtime":1657655147117,"results":"28","hashOfConfig":"25"},{"size":151,"mtime":1657640481174,"results":"29","hashOfConfig":"25"},{"size":1628,"mtime":1657706147375,"results":"30","hashOfConfig":"25"},{"size":4332,"mtime":1657700341929,"results":"31","hashOfConfig":"25"},{"size":2507,"mtime":1657655078261,"results":"32","hashOfConfig":"25"},{"size":1050,"mtime":1657636377048,"results":"33","hashOfConfig":"25"},{"size":4212,"mtime":1657640372946,"results":"34","hashOfConfig":"25"},{"size":2840,"mtime":1657701236386,"results":"35","hashOfConfig":"25"},{"size":335,"mtime":1657640389665,"results":"36","hashOfConfig":"25"},{"size":4841,"mtime":1657640394733,"results":"37","hashOfConfig":"25"},{"size":1207,"mtime":1657640402082,"results":"38","hashOfConfig":"25"},{"size":2280,"mtime":1657745496025,"results":"39","hashOfConfig":"25"},{"size":1075,"mtime":1657727847325,"results":"40","hashOfConfig":"25"},{"size":3255,"mtime":1657701308318,"results":"41","hashOfConfig":"25"},{"size":156,"mtime":1657640420692,"results":"42","hashOfConfig":"25"},{"size":3045,"mtime":1657728269219,"results":"43","hashOfConfig":"25"},{"size":2942,"mtime":1657729276881,"results":"44","hashOfConfig":"25"},{"size":3236,"mtime":1657746421801,"results":"45","hashOfConfig":"25"},{"size":5833,"mtime":1657736040181,"results":"46","hashOfConfig":"25"},{"size":122,"mtime":1657699292004,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1nl1jdd",{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","suppressedMessages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","suppressedMessages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"70"},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101"},{"filePath":"102","messages":"103","suppressedMessages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/_app.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/_document.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/api/hello.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/aufgabe3/[slug].js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/index.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/pages/news/[slug].js",["120"],[],"import React, { useEffect, useState } from 'react'\nimport { useRouter } from 'next/router'\nimport Wrapper from '../../components/Wrapper'\nimport Loader from '../../components/Loader'\nimport NewsContent from '../../components/NewsContent'\n\nexport default function Slug({ isDark }) {\n  const router = useRouter()\n  const { slug } = router.query\n\n  const [data, setdata] = useState(null)\n\n  const fetchNewsBySlug = async () => {\n      try {\n          const options = {\n              method: 'GET',\n              headers: {\n                  'X-Heise-Token': 'zcJulkgE',\n                  'Content-Type': 'application/json'\n              }\n          }\n          const res = await fetch(\n            `https://www.heise.de/extras/frontend/news/${slug}`,\n            options\n          )\n          const fetchedData = await res.json()\n          // console.log(fetchedData)\n          setdata(fetchedData)\n\n      } catch (error) { console.log('error:', error) }\n  }\n\n  useEffect(() => {\n    if(slug) fetchNewsBySlug()\n  }, [slug])\n\n  return (\n    <Wrapper>\n      {data ?\n        <NewsContent isDark={isDark} {...data} />\n      : <>\n          <div className='center'><Loader /></div>\n            <div className={`\n              cursor-pointer text-center w-fit px-8 mx-auto\n              dark:bg-white/30 dark:hover:bg-white/20 \n              bg-indigo-400/20 hover:bg-indigo-400/10 dark:text-indigo-700 text-indigo-700 \n              ring ring-indigo-700 dark:ring-white/50 \n              rounded-3xl`}\n              onClick={fetchNewsBySlug}\n            >\n              reload\n            </div>\n        </>\n      }\n    </Wrapper>\n  )\n}\n","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/EndlessNews.js",["121","122"],[],"import { useContext, useEffect, useRef, useState } from 'react'\nimport { NewsContext } from '../lib/context'\nimport Loader from './Loader'\nimport NewsCard from './NewsCard'\nimport Wrapper from './Wrapper'\n\nexport default function EndlessNews({ isDark }) {\n\n    const bottomRef = useRef(null)\n    const { news, setnews } = useContext(NewsContext)\n    const [isEnd, setisEnd] = useState(false)\n    const [isIntersecting, setIsIntersecting] = useState(false)\n\n    let observer\n    useEffect(() => {\n      observer = new IntersectionObserver(([entry]) =>\n        setIsIntersecting(entry.isIntersecting),\n      )\n      observer.observe(bottomRef.current)\n      return () => observer.disconnect()\n    }, [bottomRef, observer])\n  \n    useEffect(() => {\n      let offset = 43\n      if (news && isIntersecting) {\n        Object.keys(news).forEach( key => offset += news[key].length )\n        fetchNews(offset, 2)\n      }\n    }, [isIntersecting, news])\n  \n    const fetchNews = async (offset, limit) => {\n      try {\n        const options = {\n            method: 'GET',\n            headers: {\n                'X-Heise-Token': 'zcJulkgE',\n                'Content-Type': 'application/json'\n            }\n        }\n        const res = await fetch(\n          `https://www.heise.de/extras/frontend/news/?offset=${offset}&limit=${limit}`, \n          options\n        )\n        const fetchedNews = await res.json()\n  \n        if(fetchedNews.length) {\n  \n          const objArr = {}\n          fetchedNews.forEach((item, index) => {\n            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' }\n            const dateString = new Date(item.meta.pubDate).toLocaleDateString('de-DE', options)\n            objArr[dateString] = objArr[dateString] ? [...objArr[dateString], item] : [item]\n          })\n  \n          // sort by date {'2022-01-01': [{}, {}], '2022-01-02': [{}, {}]}\n          // parent container is relative, DateHeader sticky so it will leave the viewport with parent container\n          const newnews = {...news}\n          Object.keys(objArr).forEach(key => {\n            newnews[key] = news[key] ? [...news[key], ...objArr[key]] : objArr[key]\n          })\n          setnews(newnews)\n  \n        } else setisEnd(true)\n  \n      } catch (error) { console.log('error:', error) }\n    }\n\n    return <>\n        <div className='mb-2'>\n            {Object.keys(news).length > 0 && Object.keys(news).map((key, index) => (\n                <div key={index} className='relative'>\n                    <DateHeader date={key} />\n                    <Wrapper>\n                        {news[key].map((item, index) => (\n                          <NewsCard key={index} index={index} {...item} isDark={isDark} />\n                        ))}\n                    </Wrapper>\n                </div>\n            ))}\n        </div>\n\n        <div className='center' ref={bottomRef}>\n            {!isEnd \n            ? <div className='text-center'>\n                <Loader />\n                {news && Object.keys(news).length == 0 && \n                  <div className={`\n                    cursor-pointer px-8\n                    dark:bg-white/30 dark:hover:bg-white/20 \n                    bg-indigo-400/20 hover:bg-indigo-400/10 dark:text-indigo-700 text-indigo-700 \n                    ring ring-indigo-700 dark:ring-white/50 \n                    rounded-3xl`}\n                    onClick={() => { fetchNews(43, 2)}}\n                  >\n                    reload\n                  </div>\n                } \n              </div>\n            : <h1 className={`dark:text-white text-indigo-900 ${isDark && 'textShadowLight'} text-xl font-bold text-center`}>\n                Keine weiteren News...\n              </h1>\n            }\n        </div>\n    </>\n}\n\nconst DateHeader = ({ date }) => (\n  <div className='sticky -top-[1px] z-30 md:px-8 w-screen md:max-w-5xl mx-auto mb-12'>\n    <div className={`\n        px-8 py-2\n        ring-1 ring-indigo-400/20 border-b border-t sm:border border-indigo-500\n        dark:border-white/30 dark:ring-white/30 \n        backdrop bg-gradient-to-l from-indigo-100/70 dark:from-black/70\n        bg-white/70 dark:bg-black/60 text-indigo-900 dark:text-white font-bold \n        shadow-md dark:shadow-black shadow-indigo-400/20\n        duration md:rounded-md\n    `}>\n        {date}\n    </div>\n  </div>\n)\n\n","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/ExercisePrompt.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Header.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/HeiseSvg.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Layout.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Loader.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/ModeToggle.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/NavBar.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/NewsCard.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/NewsContent.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Weather.js",["123"],[],"import { useEffect, useState } from 'react'\nimport Loader from './Loader'\n\nexport default function Weather({ isPrompt}) {\n  const [loc, setloc] = useState(null)\n  const [data, setdata] = useState(null)\n  const [askedForUserLocation, setaskedForUserLocation] = useState(false)\n\n  const fetchWeather = async (lat, lon) => {\n    const appId = '44202ae07c2ec2db1a823b9aa9317443'\n    try {\n      if(lat && lon) {\n        const res = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&lang=de&appid=${appId}`)\n        const fetchedData = await res.json()\n        // console.log(fetchedData)\n        setdata(fetchedData)\n      }\n    } catch (error) { console.log('error:', error) }\n  }\n  \n  useEffect(() => {\n    let timO = () => {}\n    if(isPrompt && !loc) setloc({ lat: 52.52, lon: 13.40 }) //Berlin\n    else if (!isPrompt && !askedForUserLocation) {\n      const getUserLocation = () => {\n        try {\n          const options = { maximumAge: 3600000 }\n          const success = pos => {\n            setloc({ lat: pos.coords.latitude, lon: pos.coords.longitude })\n          }\n          const error = err => {\n            console.log(`error, (${err.code}): ${err.message}`)\n            if(!loc) setloc({ lat: 52.52, lon: 13.40 }) //Berlin\n            setaskedForUserLocation(true)\n          }\n          navigator.geolocation.getCurrentPosition(success, error, options)\n        } catch (error) { console.log('error:', error) }\n      }\n      timO = setTimeout(() => { getUserLocation() }, 3000)\n    }\n\n    return () => { clearTimeout(timO) }\n  }, [isPrompt])\n\n  useEffect(() => {\n    if (loc) fetchWeather(loc.lat, loc.lon)\n  }, [loc])\n\n  return (\n    <div className={`\n        px-2 py-1 sm:w-80 h-24 w-full\n        bg-gradient-to-l dark:from-black/90 dark:to-black/40\n        dark:shadow-black/90 sm:dark:shadow-black/20 shadow-indigo-400/20 sm:shadow-indigo-400/20\n        sm:from-indigo-100/70 \n        text-indigo-900 dark:text-white\n        rounded-lg shadow-none dark:shadow-md dark:sm:shadow-md sm:shadow-md\n        dark:ring-1 sm:ring-1 ring-indigo-400/20 dark:ring-white/30 \n        dark:border sm:border border-indigo-500 dark:border-white/30\n      `}>\n        {data ? \n          <div>\n            <div className=\"font-extralight\">\n              <div className='between'>\n                <h3 className='font-semibold'>{data.name}</h3>\n                <span className='text-sm'>{data.weather[0].description}</span>\n              </div>\n              <div className='between'>\n                <div className='text-5xl'>{data.main.temp}°</div>\n                <div className='text-sm text-right'>\n                  <div className='w-28 between'>\n                    <span>feels like:</span> <span>{data.main.feels_like}°</span>\n                  </div>\n                  <div className='w-28 between'>\n                    <span>H:</span> <span>{data.main.temp_max}°</span>\n                  </div>\n                  <div className='w-28 between'>\n                    <span>L:</span> <span>{data.main.temp_min}°</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        : <div className='center -translate-y-2'><Loader /></div>}\n    </div>\n  )\n}\n","/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/Wrapper.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout1.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout2.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout3.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/components/aufgabe3/Layout4.js",[],[],"/Users/fredy/code/Projects/HeiseBewerbungsAufgaben/heisebewerbung/lib/context.js",[],[],{"ruleId":"124","severity":1,"message":"125","line":35,"column":6,"nodeType":"126","endLine":35,"endColumn":12,"suggestions":"127"},{"ruleId":"124","severity":1,"message":"128","line":16,"column":18,"nodeType":"129","endLine":18,"endColumn":8},{"ruleId":"124","severity":1,"message":"130","line":29,"column":8,"nodeType":"126","endLine":29,"endColumn":30,"suggestions":"131"},{"ruleId":"124","severity":1,"message":"132","line":43,"column":6,"nodeType":"126","endLine":43,"endColumn":16,"suggestions":"133"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'fetchNewsBySlug'. Either include it or remove the dependency array.","ArrayExpression",["134"],"Assignments to the 'observer' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","NewExpression","React Hook useEffect has a missing dependency: 'fetchNews'. Either include it or remove the dependency array.",["135"],"React Hook useEffect has missing dependencies: 'askedForUserLocation' and 'loc'. Either include them or remove the dependency array.",["136"],{"desc":"137","fix":"138"},{"desc":"139","fix":"140"},{"desc":"141","fix":"142"},"Update the dependencies array to be: [fetchNewsBySlug, slug]",{"range":"143","text":"144"},"Update the dependencies array to be: [fetchNews, isIntersecting, news]",{"range":"145","text":"146"},"Update the dependencies array to be: [askedForUserLocation, isPrompt, loc]",{"range":"147","text":"148"},[1013,1019],"[fetchNewsBySlug, slug]",[919,941],"[fetchNews, isIntersecting, news]",[1584,1594],"[askedForUserLocation, isPrompt, loc]"]